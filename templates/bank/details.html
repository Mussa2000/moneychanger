{% extends 'layouts/base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block navigation %}
<div class="nk-content-body">
    <div class="nk-block-head nk-block-head-sm">
        <div class="nk-block-between py-3 px-3 bg-gray-300 rounded-3">
            <div class="nk-block-head-content">
                <h3 class="nk-block-title page-title">Details for: {{bank.name}}</h3>
            </div><!-- .nk-block-head-content -->
            <div class="nk-block-head-content">
                <div class="toggle-wrap nk-block-tools-toggle">
                    <div class="toggle-expand-content" data-content="pageMenu">
                        <ul class="nk-block-tools g-3">
                            <li class="nk-block-tools-opt"><a href="{% url 'bank-index' %}" class="btn btn-primary"><em
                                        class="icon ni ni-curve-down-left"></em><span>Back</span></a></li>
                        </ul>
                    </div>
                </div>
            </div> <!-- .nk-block-head-content  -->
        </div> <!-- .nk-block-between-->
    </div><!-- .nk-block-head -->
</div>
{% endblock %}

{% block content %}
<div class="nk-block nk-block-lg">
    <div class="card card-bordered">
        <div class="card-inner">
            <div class="card-head">
                <h5 class="card-title">Bank Information</h5>
            </div>
            <ul class="nav nav-tabs mt-n3">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" href="#tabItem5"><em class="icon ni ni-eye-alt"></em><span>Details</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#tabItem6"><em class="icon ni ni-eye-alt"></em><span>Payments</span></a>
                </li>
                
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="tabItem5">
                    <div class="d-flex align-center justify-content-between py-1">
                        <span class="text-muted">Bank Name</span>
                        <span class="text-muted">{{ bank.name }}</span>
                    </div>
                    <hr class='bg-light'>
                    <div class="d-flex align-center justify-content-between py-1">
                        <span class="text-muted">Account Number</span>
                        <span class="text-muted">{{ bank.acc_number }}</span>
                    </div>
                    <hr class='bg-light'>
                    <div class="d-flex align-center justify-content-between py-1">
                        <span class="text-muted">Address</span>
                        <span class="text-muted">{{ bank.address }}</span>
                    </div>
                    <hr class='bg-light'>
                    <div class="d-flex align-center justify-content-between py-1">
                        <span class="text-muted">Description</span>
                        <span class="text-muted">{{ bank.description }}</span>
                    </div>
                </div>
                <div class="tab-pane" id="tabItem6">
                    <table class="datatable-init-export nowrap table" data-export-title="Export">
                        <thead>
                            <tr>
                                <th>Farmer</th>
                                <th>Transaction</th>
                                <th>Payment Date</th>
                                <th>Type Of Payment</th>
                                <th>Bank</th>
                                <th>Amount Paid</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for obj in bank_payments %}
                            <tr>
                                <td>{{ obj.user }}</td>
                                <td>{{ obj.transaction }}</td>
                                <td>{{ obj.pay_date }}</td>
                                <td>{{ obj.payment_type }}</td>
                                <td>{{ obj.bank }}</td>
                                <td>{{ obj.amount }}</td>
                            </tr>  
                            {% endfor %}               
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div><!-- .nk-block -->
{% endblock %}

